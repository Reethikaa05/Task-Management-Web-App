import React,{useState} from 'react';import { Task,Priority } from '../types';import { computeROI } from '../utils';type Props={task:Task;onSave:(t:Task)=>void;onClose:()=>void};export default function EditDialog({task,onSave,onClose}:Props){const [form,setForm]=useState<Task>({...task});const [error,setError]=useState<string|null>(null);function update(k, v){ setForm(prev=> ({...prev, [k]: v})) } function handleSave(){ if(form.title.trim()===''){ setError('Title required'); return } if(!isFinite(Number(form.revenue)) || !isFinite(Number(form.timeTaken))) { setError('Revenue and Time must be numbers'); return } onSave({...form}) } return (<><div className='overlay' onClick={onClose}></div><div className='dialog'><h3>Edit Task</h3><div><label>Title</label><input value={form.title} onChange={e=>update('title', e.target.value)} /></div><div><label>Revenue</label><input type='number' value={form.revenue} onChange={e=>update('revenue', Number(e.target.value))} /></div><div><label>Time Taken (hours)</label><input type='number' value={form.timeTaken} onChange={e=>update('timeTaken', Number(e.target.value))} /></div><div><label>Priority</label><select value={form.priority} onChange={e=>update('priority', e.target.value)}><option value={Priority.High}>High</option><option value={Priority.Medium}>Medium</option><option value={Priority.Low}>Low</option></select></div><div style={{marginTop:8}}><button onClick={handleSave}>Save</button><button onClick={onClose} style={{marginLeft:8}}>Cancel</button></div>{error && <div style={{color:'crimson', marginTop:8}}>{error}</div>}<div style={{marginTop:8}}>Computed ROI: {computeROI(form).toFixed(2)}</div></div></>) }