import { Task, Priority } from './types'; export function sampleTasks():Task[]{ return [{id:1,title:'Call client A',revenue:5000,timeTaken:2,notes:'',priority:Priority.High,status:'todo',createdAt:1680000000000},{id:2,title:'Prepare pitch',revenue:2000,timeTaken:1,notes:'',priority:Priority.Medium,status:'inprogress',createdAt:1680000100000},{id:3,title:'Email followup',revenue:0,timeTaken:1,notes:'',priority:Priority.Low,status:'todo',createdAt:1680000200000}] } export function computeROI(task:Task):number{ const r=Number(task.revenue); const t=Number(task.timeTaken); if(!isFinite(r)||!isFinite(t)||isNaN(r)||isNaN(t)) return 0; if(t===0) return 0; return r/t } export function formatROI(v:number){ if(!isFinite(v)||isNaN(v)) return 'â€”'; return v.toFixed(2) } const priorityOrder:any={High:3,Medium:2,Low:1}; export function stableSortTasks(tasks:Task[]):Task[]{ return [...tasks].sort((a,b)=>{ const roiA=computeROI(a); const roiB=computeROI(b); if(roiB!==roiA) return roiB-roiA; const pa=priorityOrder[a.priority]; const pb=priorityOrder[b.priority]; if(pb!==pa) return pb-pa; const titleCmp=a.title.localeCompare(b.title); if(titleCmp!==0) return titleCmp; return a.createdAt-b.createdAt }) }